# 500 ì—ëŸ¬ í•´ê²° ê°€ì´ë“œ

## í˜„ìž¬ ìƒí™©
`/api/calories` ì—”ë“œí¬ì¸íŠ¸ì—ì„œ **500 Internal Server Error**ê°€ ë°œìƒí•˜ê³  ìžˆìŠµë‹ˆë‹¤.

## ê°€ìž¥ ê°€ëŠ¥ì„± ë†’ì€ ì›ì¸

**GEMINI_API_KEYê°€ .env íŒŒì¼ì— ì„¤ì •ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì„œë²„ê°€ ìž¬ì‹œìž‘ë˜ì§€ ì•Šì•˜ì„ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.**

## í•´ê²° ë°©ë²•

### ë°©ë²• 1: .env íŒŒì¼ í™•ì¸ ë° ìˆ˜ì •

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

```bash
cd "/Users/user/Library/Mobile Documents/com~apple~CloudDocs/NAVER/í”Œë ˆì´ìŠ¤/ì»¤ì„œ"

# .env íŒŒì¼ ë‚´ìš© í™•ì¸
cat .env
```

**í™•ì¸ ì‚¬í•­:**
- `GEMINI_API_KEY=AIzaSyCz-ZPlMtzFjkXvGuV0HP22sWupJp7uL_4` ì¤„ì´ ìžˆëŠ”ì§€ í™•ì¸
- ê³µë°± ì—†ì´ `KEY=value` í˜•ì‹ì¸ì§€ í™•ì¸

**ì—†ë‹¤ë©´ ì¶”ê°€:**
```bash
# .env íŒŒì¼ì— Gemini API í‚¤ ì¶”ê°€
echo "" >> .env
echo "# Gemini API Key" >> .env
echo "GEMINI_API_KEY=AIzaSyCz-ZPlMtzFjkXvGuV0HP22sWupJp7uL_4" >> .env
```

### ë°©ë²• 2: ì„œë²„ ìž¬ì‹œìž‘ (ì¤‘ìš”!)

**.env íŒŒì¼ì„ ìˆ˜ì •í–ˆë‹¤ë©´ ë°˜ë“œì‹œ ì„œë²„ë¥¼ ìž¬ì‹œìž‘í•´ì•¼ í•©ë‹ˆë‹¤:**

```bash
# í„°ë¯¸ë„ì—ì„œ ì„œë²„ ì¤‘ì§€
Ctrl + C

# ì„œë²„ ìž¬ì‹œìž‘
npm run dev
```

**ì„œë²„ ì‹œìž‘ ì‹œ í™•ì¸:**
í„°ë¯¸ë„ì— ë‹¤ìŒ ë©”ì‹œì§€ê°€ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤:
```
âœ… GEMINI_API_KEYê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.
```

ì´ ë©”ì‹œì§€ê°€ ë³´ì´ì§€ ì•Šìœ¼ë©´ `.env` íŒŒì¼ì— í‚¤ê°€ ì—†ê±°ë‚˜ í˜•ì‹ì´ ìž˜ëª»ëœ ê²ƒìž…ë‹ˆë‹¤.

### ë°©ë²• 3: .env íŒŒì¼ ì „ì²´ ìž¬ìž‘ì„±

ê¸°ì¡´ .env íŒŒì¼ì´ ì†ìƒë˜ì—ˆì„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ìž¬ìž‘ì„±:

```bash
cd "/Users/user/Library/Mobile Documents/com~apple~CloudDocs/NAVER/í”Œë ˆì´ìŠ¤/ì»¤ì„œ"

# ê¸°ì¡´ .env ë°±ì—…
cp .env .env.backup

# .env íŒŒì¼ ìž¬ìž‘ì„±
cat > .env << 'EOF'
# Google Maps API Key
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=AIzaSyCY6pkLokXVXdDEg78KRofqNdG2qWODve8

# JWT Secret
JWT_SECRET=your_jwt_secret_change_in_production_use_random_string

# Database Path
DATABASE_PATH=./data/running.db

# Server Port
PORT=3000

# Gemini API Key
GEMINI_API_KEY=AIzaSyCz-ZPlMtzFjkXvGuV0HP22sWupJp7uL_4
EOF

# ì„œë²„ ìž¬ì‹œìž‘
npm run dev
```

## í™•ì¸ ë‹¨ê³„

### 1ë‹¨ê³„: API ìƒíƒœ í…ŒìŠ¤íŠ¸

ë¸Œë¼ìš°ì €ì—ì„œ ë‹¤ìŒ URLì„ ì—´ì–´ë³´ì„¸ìš”:
```
http://localhost:3000/api/calories/test
```

**ì •ìƒ:**
```json
{
  "status": "ok",
  "geminiApiKey": {
    "exists": true,
    "length": 39
  },
  "message": "âœ… GEMINI_API_KEYê°€ ì„¤ì •ë˜ì–´ ìžˆìŠµë‹ˆë‹¤."
}
```

**ë¬¸ì œ:**
```json
{
  "status": "ok",
  "geminiApiKey": {
    "exists": false,
    "length": 0
  },
  "message": "âŒ GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."
}
```

### 2ë‹¨ê³„: ì„œë²„ í„°ë¯¸ë„ í™•ì¸

ì„œë²„ë¥¼ ì‹œìž‘í•  ë•Œ (`npm run dev`) í„°ë¯¸ë„ì— ë‹¤ìŒì´ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤:

**ì •ìƒ:**
```
âœ… GEMINI_API_KEYê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.
```

**ë¬¸ì œ:**
```
âš ï¸ GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
âš ï¸ .env íŒŒì¼ì— GEMINI_API_KEY=your_api_key í˜•ì‹ìœ¼ë¡œ ì¶”ê°€í•´ì£¼ì„¸ìš”.
```

### 3ë‹¨ê³„: ì‹ì‚¬ ìž…ë ¥ ì‹œ ë¡œê·¸ í™•ì¸

ê¸°ë¡ ë“±ë¡ íŽ˜ì´ì§€ì—ì„œ ì‹ì‚¬ë¥¼ ìž…ë ¥í•  ë•Œ, ì„œë²„ í„°ë¯¸ë„ì— ë‹¤ìŒì´ í‘œì‹œë˜ì–´ì•¼ í•©ë‹ˆë‹¤:

**ì •ìƒ:**
```
ðŸ“ ì¹¼ë¡œë¦¬ ê³„ì‚° API í˜¸ì¶œ: ì¹˜í‚¨ í•œ ë§ˆë¦¬
ðŸ”‘ GEMINI_API_KEY í™•ì¸: ì„¤ì •ë¨ (ê¸¸ì´: 39)
ðŸ”„ ì¹¼ë¡œë¦¬ ê³„ì‚° ì‹œìž‘...
âœ… ì¹¼ë¡œë¦¬ ê³„ì‚° ì„±ê³µ: 1200
```

**ë¬¸ì œ:**
```
ðŸ“ ì¹¼ë¡œë¦¬ ê³„ì‚° API í˜¸ì¶œ: ì¹˜í‚¨ í•œ ë§ˆë¦¬
ðŸ”‘ GEMINI_API_KEY í™•ì¸: âŒ ì„¤ì •ë˜ì§€ ì•ŠìŒ
âŒ GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
```

## ë¹ ë¥¸ í•´ê²° ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] `.env` íŒŒì¼ì´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìžˆëŠ”ì§€ í™•ì¸
- [ ] `.env` íŒŒì¼ì— `GEMINI_API_KEY=AIzaSyCz-ZPlMtzFjkXvGuV0HP22sWupJp7uL_4` ì¤„ì´ ìžˆëŠ”ì§€ í™•ì¸
- [ ] ë“±í˜¸ ì•žë’¤ì— ê³µë°±ì´ ì—†ëŠ”ì§€ í™•ì¸ (`KEY=value` í˜•ì‹)
- [ ] ì„œë²„ë¥¼ ìž¬ì‹œìž‘í–ˆëŠ”ì§€ í™•ì¸ (Ctrl + C í›„ `npm run dev`)
- [ ] ì„œë²„ ì‹œìž‘ ì‹œ `âœ… GEMINI_API_KEYê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.` ë©”ì‹œì§€ê°€ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
- [ ] `/api/calories/test`ì—ì„œ `exists: true`ì¸ì§€ í™•ì¸

## ì—¬ì „ížˆ ë¬¸ì œê°€ ìžˆëŠ” ê²½ìš°

ìœ„ì˜ ëª¨ë“  ë‹¨ê³„ë¥¼ í™•ì¸í–ˆëŠ”ë°ë„ ë¬¸ì œê°€ ê³„ì†ë˜ë©´:

1. **ë¸Œë¼ìš°ì € Network íƒ­ì˜ Response ë‚´ìš©**ì„ ë³µì‚¬í•´ì„œ ì•Œë ¤ì£¼ì„¸ìš”
2. **ì„œë²„ í„°ë¯¸ë„ì˜ ì „ì²´ ì—ëŸ¬ ë¡œê·¸**ë¥¼ ë³µì‚¬í•´ì„œ ì•Œë ¤ì£¼ì„¸ìš”
3. **`/api/calories/test` ì‘ë‹µ ë‚´ìš©**ì„ ì•Œë ¤ì£¼ì„¸ìš”

ì´ ì •ë³´ë¥¼ ì£¼ì‹œë©´ ì •í™•í•œ ì›ì¸ì„ íŒŒì•…í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
